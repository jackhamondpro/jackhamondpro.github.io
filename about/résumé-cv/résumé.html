<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.12.313/pdf.min.js"></script>

<div id="pdf-viewer">
    <canvas id="pdf-canvas"></canvas>
</div>

<script>
  // Wait until the PDF.js library is fully loaded
  if (typeof pdfjsLib !== 'undefined') {
    const url = '/assets/media/pdf/résumé.pdf';
    const canvas = document.getElementById('pdf-canvas');
    const context = canvas.getContext('2d');
  
    pdfjsLib.getDocument(url).promise.then(function(pdf) {
      console.log('PDF loaded');
      
      pdf.getPage(1).then(function(page) {
        console.log('Page loaded');
        
        const viewport = page.getViewport({ scale: 1 });
        canvas.height = viewport.height;
        canvas.width = viewport.width;
  
        page.render({
          canvasContext: context,
          viewport: viewport
        }).promise.then(function() {
          console.log('Page rendered');
        }).catch(function(error) {
          console.log('Render error:', error);
        });
      }).catch(function(error) {
        console.log('Error loading page:', error);
      });
    }).catch(function(error) {
      console.log('Error loading PDF:', error);
    });
  } else {
    console.log("PDF.js library is not loaded.");
  }
</script>
